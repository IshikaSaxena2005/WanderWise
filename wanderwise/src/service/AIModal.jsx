
import  {GoogleGenerativeAI} from "@google/generative-ai";
  
  const apiKey = import.meta.env.VITE_GEMINI_API;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash-exp",
    systemInstruction: "Generate Travel Plan for Location:Jaipur, for 3 days for Couple with a cheap budget,Give me a Hotels option list with HotelName, Hotel address, Price, hotel image url,geo coordinates,rating,descriptions and suggest itinerary with placeName, Place Details, Place image url, Geo coordinates,ticket Pricing, Time to travel each location for 3 days with each day plan with best time to visit in JSON format",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  

    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location:Jaipur, for 3 days for Couple with a cheap budget,Give me a Hotels option list with HotelName, Hotel address, Price, hotel image url,geo coordinates,rating,descriptions and suggest itinerary with placeName, Place Details, Place image url, Geo coordinates,ticket Pricing, Time to travel each location for 3 days with each day plan with best time to visit in JSON format"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"location\": \"Jaipur\",\n  \"duration\": \"3 Days\",\n  \"travelers\": \"Couple\",\n  \"budget\": \"Cheap\",\n  \"best_time_to_visit\": \"October to March (pleasant weather)\",\n  \"hotels\": [\n    {\n      \"hotelName\": \"Zostel Jaipur\",\n      \"hotelAddress\": \"C-9, Gopalbari, Ajmer Road, Jaipur, Rajasthan 302006\",\n      \"price\": \"₹800 - ₹1500\",\n      \"hotelImageUrl\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR6_z_5iFz0rF8l-g0d7m_1X7aZ1pW7bN1E0g&usqp=CAU\",\n      \"geoCoordinates\": {\n        \"latitude\": 26.9199,\n        \"longitude\": 75.7906\n      },\n      \"rating\": 4.2,\n      \"descriptions\": \"A popular hostel with dorm rooms and private rooms. Clean, social atmosphere, and budget-friendly.\"\n    },\n    {\n      \"hotelName\": \"Hotel Arya Niwas\",\n      \"hotelAddress\": \"Sansar Chandra Road, Behind Amber Tower, Jaipur, Rajasthan 302001\",\n      \"price\": \"₹1800 - ₹2800\",\n        \"hotelImageUrl\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT2uHl4y0h098iT8W57o26vXh9a4_aR7z_pvg&usqp=CAU\",\n      \"geoCoordinates\": {\n        \"latitude\": 26.9176,\n        \"longitude\": 75.8032\n      },\n      \"rating\": 4.3,\n      \"descriptions\": \"Well-maintained hotel with clean rooms and a pleasant garden setting. Good value for money.\"\n    },\n     {\n      \"hotelName\": \"Hotel Pearl Palace\",\n      \"hotelAddress\": \"51, Hathroi Fort, Hari Kishan Somani Marg, Ajmer Road, Jaipur, Rajasthan 302001\",\n      \"price\": \"₹1500 - ₹2500\",\n       \"hotelImageUrl\":\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT3dG_rQ1_x8mQvR2_y6o6V1z_K3N1hL4jCxg&usqp=CAU\",\n      \"geoCoordinates\": {\n        \"latitude\": 26.9246,\n        \"longitude\": 75.7854\n      },\n      \"rating\": 4.4,\n      \"descriptions\": \"Known for its uniquely decorated rooms and rooftop restaurant. Offers a good mix of comfort and style at a reasonable price.\"\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"Historical Exploration\",\n      \"places\": [\n        {\n          \"placeName\": \"Hawa Mahal\",\n          \"placeDetails\": \"A palace made of red and pink sandstone, known for its unique honeycomb-like facade. Best seen from outside.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b1/Hawa_Mahal_Jaipur_India_02_01.jpg/800px-Hawa_Mahal_Jaipur_India_02_01.jpg\",\n           \"geoCoordinates\": {\n              \"latitude\": 26.9239,\n             \"longitude\": 75.8267\n           },\n          \"ticketPricing\": \"₹50 (Indians), ₹200 (Foreigners)\",\n          \"timeToTravel\": \"5-10 minutes from City center\"\n        },\n          {\n          \"placeName\": \"City Palace\",\n          \"placeDetails\": \"A palace complex with courtyards, gardens, and museums, showcasing a blend of Mughal and Rajput architecture.\",\n           \"placeImageUrl\":\"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d4/City_Palace_Jaipur.jpg/800px-City_Palace_Jaipur.jpg\",\n           \"geoCoordinates\": {\n             \"latitude\": 26.9269,\n             \"longitude\": 75.8239\n           },\n          \"ticketPricing\": \"₹300 (Indians), ₹700 (Foreigners)\",\n           \"timeToTravel\": \"5 minutes from Hawa Mahal\"\n         },\n         {\n          \"placeName\": \"Jantar Mantar\",\n          \"placeDetails\": \"An astronomical observatory built in the early 18th century, featuring various instruments for measuring celestial objects.\",\n             \"placeImageUrl\":\"https://upload.wikimedia.org/wikipedia/commons/thumb/e/ef/Jantar_Mantar_Jaipur_India.jpg/800px-Jantar_Mantar_Jaipur_India.jpg\",\n           \"geoCoordinates\": {\n              \"latitude\": 26.9251,\n              \"longitude\": 75.8230\n           },\n           \"ticketPricing\": \"₹50 (Indians), ₹200 (Foreigners)\",\n           \"timeToTravel\": \"Adjacent to City Palace\"\n         }\n      ],\n       \"bestTimeToVisit\":\"Morning (9 am to 12 pm)\"\n    },\n    \"day2\": {\n       \"theme\": \"Forts and Views\",\n      \"places\": [\n        {\n          \"placeName\": \"Amer Fort\",\n          \"placeDetails\": \"A magnificent fort perched on a hilltop, known for its architecture, elephant rides, and light show (evening).\",\n           \"placeImageUrl\":\"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d8/Amber_Fort_2007-12-22.jpg/800px-Amber_Fort_2007-12-22.jpg\",\n           \"geoCoordinates\": {\n              \"latitude\": 26.9854,\n              \"longitude\": 75.8513\n           },\n          \"ticketPricing\": \"₹100 (Indians), ₹550 (Foreigners)\",\n          \"timeToTravel\": \"20-30 minutes from city center\"\n        },\n         {\n          \"placeName\": \"Nahargarh Fort\",\n          \"placeDetails\": \"Offers panoramic views of Jaipur city. Visit during sunset for breathtaking vistas.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/4/48/Nahargarh_Fort_Rajasthan_India.jpg/800px-Nahargarh_Fort_Rajasthan_India.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 26.9466,\n              \"longitude\": 75.8303\n           },\n            \"ticketPricing\": \"₹50 (Indians), ₹200 (Foreigners)\",\n            \"timeToTravel\": \"30-40 minutes from Amer Fort\"\n         },\n         {\n          \"placeName\": \"Jaigarh Fort\",\n            \"placeDetails\": \"Known for its massive cannon 'Jaivana' and offers great views of Amer fort and the surrounding landscape.\",\n          \"placeImageUrl\":\"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6f/Jaigarh_Fort_%28View_from_the_top%29.jpg/800px-Jaigarh_Fort_%28View_from_the_top%29.jpg\",\n             \"geoCoordinates\": {\n                \"latitude\": 26.9911,\n                \"longitude\": 75.8464\n              },\n             \"ticketPricing\": \"₹85 (Indians), ₹250 (Foreigners)\",\n             \"timeToTravel\": \"10-15 minutes from Nahargarh Fort\"\n          }\n      ],\n        \"bestTimeToVisit\":\"Afternoon (2 pm to 6 pm)\"\n    },\n    \"day3\": {\n      \"theme\": \"Local Culture & Shopping\",\n      \"places\": [\n        {\n          \"placeName\": \"Albert Hall Museum\",\n          \"placeDetails\": \"The oldest museum in Rajasthan, showcasing artifacts of art, history and culture.\",\n           \"placeImageUrl\":\"https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Albert_Hall_Museum_Jaipur_Rajasthan.jpg/800px-Albert_Hall_Museum_Jaipur_Rajasthan.jpg\",\n          \"geoCoordinates\": {\n              \"latitude\": 26.9171,\n               \"longitude\": 75.8148\n          },\n          \"ticketPricing\": \"₹150 (Indians), ₹300 (Foreigners)\",\n          \"timeToTravel\": \"20-25 minutes from City Center\"\n        },\n        {\n          \"placeName\": \"Bapu Bazaar\",\n          \"placeDetails\": \"A popular market for textiles, handicrafts, jewelry and local souvenirs. Great for bargaining.\",\n           \"placeImageUrl\": \"https://content.jdmagicbox.com/comp/jaipur/h1/0141px141.x141.170125184816.j2h1/catalogue/bapu-bazaar-jaipur-bazaar-for-home-decor-items-z5k5z.jpg?clr=\",\n          \"geoCoordinates\": {\n              \"latitude\": 26.9195,\n              \"longitude\": 75.8270\n            },\n          \"ticketPricing\": \"Free (Shopping prices vary)\",\n          \"timeToTravel\":\"15 minutes from Albert Hall Museum\"\n        },\n        {\n          \"placeName\": \"Laxmi Misthan Bhandar (LMB)\",\n           \"placeDetails\": \"Famous for traditional Rajasthani sweets, snacks and meals.\",\n            \"placeImageUrl\":\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQs0i616vj_R12-XFzLqWwZqU_z4kU_T-G7gQ&usqp=CAU\",\n          \"geoCoordinates\":{\n            \"latitude\": 26.9255,\n            \"longitude\": 75.8216\n          },\n          \"ticketPricing\":\"Varies (Food Prices)\",\n          \"timeToTravel\": \"5 minutes from Bapu Bazar\"\n        }\n      ],\n         \"bestTimeToVisit\":\"Afternoon (2 pm to 6 pm)\"\n    }\n  }\n}\n```"},
          ],
        },
      ],
    });
  
  